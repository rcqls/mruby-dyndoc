#include <stdint.h>
const uint8_t test_symbol[] = {
0x45,0x54,0x49,0x52,0x30,0x30,0x30,0x32,0x5d,0xa0,0x00,0x00,0x03,0x3c,0x4d,0x41,
0x54,0x5a,0x30,0x30,0x30,0x30,0x49,0x52,0x45,0x50,0x00,0x00,0x02,0xee,0x30,0x30,
0x30,0x30,0x00,0x00,0x02,0xe2,0x00,0x05,0x00,0x08,0x00,0x00,0x00,0x00,0x00,0x17,
0x3d,0x00,0x80,0x00,0xbd,0x00,0x00,0x01,0x3d,0x01,0x00,0x01,0x11,0x01,0x80,0x02,
0x93,0x00,0x80,0x02,0x13,0x00,0x80,0x02,0x3f,0x80,0x01,0x03,0xa0,0xc0,0x80,0x02,
0x01,0x40,0x81,0x01,0x06,0x00,0x80,0x02,0x01,0xc0,0x00,0x03,0xa0,0x00,0x81,0x02,
0x01,0xc0,0x80,0x02,0x3f,0x80,0x01,0x03,0xa0,0x40,0x81,0x02,0x01,0xc0,0x80,0x02,
0x01,0x40,0x00,0x03,0xa0,0x80,0x81,0x02,0x01,0x40,0x01,0x02,0x06,0x00,0x80,0x02,
0x01,0x00,0x01,0x03,0xa0,0xc0,0x81,0x02,0x4a,0x00,0x00,0x00,0x00,0x00,0x00,0x03,
0x00,0x01,0x2b,0x7b,0x23,0x64,0x6f,0x63,0x75,0x6d,0x65,0x6e,0x74,0x5d,0x5b,0x23,
0x6d,0x61,0x69,0x6e,0x5d,0x5b,0x23,0x3e,0x5d,0x74,0x6f,0x74,0x6f,0x5b,0x54,0x4f,
0x54,0x4f,0x5d,0x5b,0x23,0x72,0x3c,0x5d,0x61,0x3d,0x22,0x6a,0x6f,0x65,0x22,0x5b,
0x23,0x3e,0x5d,0x3c,0x3c,0x3c,0x0a,0x09,0x74,0x69,0x74,0xc3,0xa9,0xc3,0xa9,0x69,
0x20,0x23,0x7b,0x74,0x6f,0x74,0x6f,0x7d,0x0a,0x09,0x5b,0x23,0x3f,0x5d,0x23,0x7b,
0x2b,0x3f,0x74,0x6f,0x74,0x6f,0x7d,0x5b,0x23,0x3e,0x5d,0x50,0x4c,0x55,0x53,0x0a,
0x09,0x5b,0x23,0x3f,0x5d,0x23,0x7b,0x3d,0x74,0x6f,0x74,0x6f,0x7d,0x20,0x3d,0x3d,
0x20,0x22,0x54,0x4f,0x54,0x4f,0x22,0x5b,0x23,0x3e,0x5d,0x50,0x4c,0x55,0x53,0x32,
0x0a,0x09,0x5b,0x23,0x72,0x62,0x3c,0x5d,0x40,0x74,0x61,0x74,0x61,0x3d,0x22,0x6a,
0x6f,0x65,0x22,0x0a,0x5b,0x23,0x6e,0x6c,0x5d,0x5b,0x23,0x3e,0x5d,0x74,0x61,0x74,
0x61,0x20,0x69,0x73,0x20,0x3a,0x7b,0x40,0x74,0x61,0x74,0x61,0x7d,0x5b,0x23,0x6e,
0x6c,0x5d,0x0a,0x7b,0x23,0x63,0x61,0x73,0x65,0x5d,0x3a,0x7b,0x40,0x74,0x61,0x74,
0x61,0x7d,0x2c,0x23,0x7b,0x74,0x6f,0x74,0x6f,0x7d,0x2c,0x3a,0x72,0x7b,0x61,0x7d,
0x0a,0x5b,0x23,0x77,0x68,0x65,0x6e,0x5d,0x6a,0x6f,0x65,0x5b,0x23,0x3e,0x5d,0x49,
0x20,0x61,0x6d,0x20,0x4a,0x4f,0x45,0x0a,0x5b,0x23,0x77,0x68,0x65,0x6e,0x5d,0x54,
0x4f,0x54,0x4f,0x5b,0x23,0x3e,0x5d,0x49,0x20,0x61,0x6d,0x20,0x54,0x6f,0x74,0x6f,
0x0a,0x5b,0x23,0x63,0x61,0x73,0x65,0x7d,0x0a,0x5b,0x23,0x3e,0x5d,0x7b,0x23,0x72,
0x76,0x65,0x72,0x62,0x5d,0x72,0x6e,0x6f,0x72,0x6d,0x28,0x31,0x30,0x29,0x5b,0x23,
0x72,0x76,0x65,0x72,0x62,0x7d,0x0a,0x09,0x3e,0x3e,0x3e,0x5b,0x23,0x7d,0x00,0x00,
0x7d,0x7b,0x23,0x64,0x6f,0x63,0x75,0x6d,0x65,0x6e,0x74,0x5d,0x5b,0x23,0x6d,0x61,
0x69,0x6e,0x5d,0x5b,0x23,0x3e,0x5d,0x74,0x6f,0x74,0x6f,0x5b,0x54,0x4f,0x54,0x4f,
0x5d,0x5b,0x23,0x72,0x3c,0x5d,0x61,0x3d,0x22,0x74,0x69,0x74,0x69,0x22,0x5b,0x23,
0x3e,0x5d,0x0a,0x09,0x7b,0x23,0x63,0x61,0x73,0x65,0x5d,0x6a,0x6f,0x65,0x0a,0x5b,
0x23,0x77,0x68,0x65,0x6e,0x5d,0x6a,0x6f,0x65,0x5b,0x23,0x3e,0x5d,0x49,0x20,0x61,
0x6d,0x20,0x4a,0x4f,0x45,0x0a,0x5b,0x23,0x77,0x68,0x65,0x6e,0x5d,0x54,0x4f,0x54,
0x4f,0x5b,0x23,0x3e,0x5d,0x49,0x20,0x61,0x6d,0x20,0x54,0x6f,0x74,0x6f,0x0a,0x5b,
0x23,0x63,0x61,0x73,0x65,0x7d,0x23,0x72,0x7b,0x61,0x7d,0x5b,0x23,0x7d,0x00,0x00,
0x78,0x7b,0x23,0x64,0x6f,0x63,0x75,0x6d,0x65,0x6e,0x74,0x5d,0x5b,0x23,0x6d,0x61,
0x69,0x6e,0x5d,0x5b,0x23,0x3e,0x5d,0x74,0x6f,0x74,0x6f,0x5b,0x54,0x4f,0x54,0x4f,
0x5d,0x5b,0x23,0x72,0x3c,0x5d,0x61,0x3d,0x22,0x74,0x69,0x74,0x69,0x22,0x5b,0x23,
0x3e,0x5d,0x0a,0x09,0x7b,0x23,0x63,0x61,0x73,0x65,0x5d,0x6a,0x6f,0x65,0x0a,0x5b,
0x23,0x77,0x68,0x65,0x6e,0x5d,0x6a,0x6f,0x65,0x5b,0x23,0x3e,0x5d,0x49,0x20,0x61,
0x6d,0x20,0x4a,0x4f,0x45,0x0a,0x5b,0x23,0x77,0x68,0x65,0x6e,0x5d,0x54,0x4f,0x54,
0x4f,0x5b,0x23,0x3e,0x5d,0x49,0x20,0x61,0x6d,0x20,0x54,0x6f,0x74,0x6f,0x0a,0x5b,
0x23,0x63,0x61,0x73,0x65,0x7d,0x5b,0x23,0x7d,0x00,0x00,0x00,0x08,0x00,0x0f,0x54,
0x65,0x6d,0x70,0x6c,0x61,0x74,0x65,0x4d,0x61,0x6e,0x61,0x67,0x65,0x72,0x00,0x00,
0x05,0x4d,0x52,0x75,0x62,0x79,0x00,0x00,0x06,0x44,0x79,0x6e,0x64,0x6f,0x63,0x00,
0x00,0x03,0x6e,0x65,0x77,0x00,0x00,0x01,0x70,0x00,0x00,0x08,0x69,0x6e,0x69,0x74,
0x5f,0x64,0x6f,0x63,0x00,0x00,0x05,0x70,0x61,0x72,0x73,0x65,0x00,0x00,0x04,0x70,
0x75,0x74,0x73,0x00,0x4c,0x56,0x41,0x52,0x00,0x00,0x00,0x30,0x00,0x00,0x00,0x04,
0x00,0x03,0x74,0x78,0x74,0x00,0x04,0x74,0x78,0x74,0x32,0x00,0x04,0x6d,0x6e,0x67,
0x72,0x00,0x01,0x61,0x00,0x00,0x00,0x01,0x00,0x01,0x00,0x02,0x00,0x02,0x00,0x03,
0x00,0x03,0x00,0x04,0x45,0x4e,0x44,0x00,0x00,0x00,0x00,0x08,
};


#include "mruby.h"
#include "mruby/irep.h"
#include "mruby/proc.h"

int
main(void)
{
  /* new interpreter instance */
  mrb_state *mrb;
  mrb = mrb_open();

  /* read and execute compiled symbols */
  int n = mrb_read_irep(mrb, test_symbol);
  mrb_run(mrb, mrb_proc_new(mrb, mrb->irep[n]), mrb_top_self(mrb));

  mrb_close(mrb);

  return 0;
}